## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде
```markdown
Документоориентированная БД, 
т.к. чек можно рассматривать как отдельный документ без определенной схемы (состав полей может значительно изменяться).
Напр., MongoDB

```
- Склады и автомобильные дороги для логистической компании

```markdown
Можно использовать графовую БД.
Напр., Neo4j.
В данном случае склады будут выступать вершинами графа, дороги - ребрами. 
Поскольку в логистике основной упор делается на расчет пути, то именно графовый БД, 
предназначенные для этого, окажутся выигрышными в данном варианте. 

```
- Генеалогические деревья

```markdown
Можно рассмотреть Сетевую БД, 
но скорее всего реляционная БД будет не хуже, а с учетом поддержки и развития - лучше.

```
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации

```
БД ключ-значение.
Напр., redis
Данные системы изначально поддерживают истечение ключей,
плюс скорость работы в данных сценариях у них значительно выше.

```

- Отношения клиент-покупка для интернет-магазина
```markdown
Реляционная БД.
Напр., MySQL или PostgresSQL.
```

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)

```markdown
CA 
```

- При сетевых сбоях, система может разделиться на 2 раздельных кластера
```markdown

AP

```

- Система может не прислать корректный ответ или сбросить соединение

```
CP

```

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

```markdown

1. PC/EC
2. PA/EL или PA/EC
3. PC/EC

```

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

```markdown
Нет, т.к. принципы BASE созданы в противовес принципам ACID:
ACID - строгое требование согласованности и сохранности данных
BASE - не требует гарантированной согласованности (Eventually consistent - согласованность в конечно счете),
разные части БД могут содержать и отдавать по запросу разные данные

```

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?


```markdown
Пример БД - Redis.

Основные преимущества:
- высокая скорость за счет работы в памяти
- несложности настройки
- возможность настройки высокодоступных решений

Недостатки:
- значительное снижение скорости при сохранении данных на диске
- сложность обработки больших/сложных очередей 
- ограниченные настройки безопасности

Лучший выбор Redis - очередь небольших короткоживущих сообщений, не требующих гарантированной сохранности.
 

```