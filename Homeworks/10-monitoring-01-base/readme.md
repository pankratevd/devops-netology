# Домашнее задание к занятию 13 «Введение в мониторинг»

## Обязательные задания

1. Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя платформу для вычислений с выдачей текстовых отчётов, которые сохраняются на диск. 
Взаимодействие с платформой осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы выведите в мониторинг и почему?

```text
Примерный минимальный набор:
Утилизация CPU, CPU LA - т.к. вычисление нагружает процессор

Свободное место на диске
Количество inodes
Т.к.можно предположить, будет сохраняться большое количество отчетов.

Процент положительных кодов ответа http (2xx, 3xx) сервера
Т.к. доступ осуществляется по http.

Работоспособность сервисов приложения 
```

2. Менеджер продукта, посмотрев на ваши метрики, сказал, что ему непонятно, что такое RAM/inodes/CPUla. Также он сказал, что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы можете ему предложить?

```text
В данном случае можно настроить метрики black-box метрики мониторинга
метрики доступности приложения извне:
- работоспособность сервиса (количество успешных и неуспешных ответов)
- скорость получения данных
 
```

4. Вашей DevOps-команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики, в свою очередь, хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации, чтобы разработчики получали ошибки приложения?

```text
Можно предложить использовать систему перехватчик ошибок, например Sentry.
Данное решение позволит с одно стороны получать ошибки в удобном виде, а с другой будет менее требовательной к инфраструктуре,чем полноценные системы сбора логов, напр., ELK.
```

5. Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA = 99% по http-кодам ответов. 
Этот параметр вычисляется по формуле: summ_2xx_requests/summ_all_requests. Он не поднимается выше 70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?

```text
Нужно добавить коды 300.
Т.о. формула получается:
(summ_2xx_requests + summ_3xx)/summ_all_requests
```